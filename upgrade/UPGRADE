                Upgrading CMap database from v0.09 to v0.10
                        $Id: UPGRADE,v 1.1 2004-02-19 18:49:46 kycl4rk Exp $

There are three new tables in the 0.10 version of CMap.  In addition,
several fields and tables have been deprecated.  

1.      BACKUP YOUR DATA

Before attempting any of the instructions in this document, it is
recommended that you backup your database before attempting to alter
the schema and migrate the data (or replicate the database and try the
alterations on the copy).  

2.      CREATE NEW TABLES AND INDICES

The new table definitions for your database are included in the
"upgrade" directory of the 0.10 tarball.  To add these tables to
MySQL, you could do the following:

    $ mysql -uroot -p CMAP < mysql-changes

After you have added these tables, you should create the following
indices:

    CREATE INDEX feature_correspondence_id ON cmap_correspondence_evidence 
    (feature_correspondence_id);

    CREATE INDEX map_id_feature_id ON cmap_feature (feature_id,map_id);

3.      MIGRATE DATA

The next step is to migrate your existing data to the new tables.  To
do this, run the "cmap_v09_to_v10.pl" script in this directory.  This
is a non-destructive script meaning that no data will be removed from
your database, it will only be shuffled from the old fields to the
new.

4.      DROP TABLES AND FIELDS (OPTIONAL)

Once you have done this, you can drop the deprecated fields and
tables.  This is an optional step as the code in version 0.10 no
longer references these tables and fields, so they can remain if you
are paranoid about losing anything.

    ALTER TABLE cmap_correspondence_evidence DROP remark;
    ALTER TABLE cmap_feature DROP alternate_name;
    ALTER TABLE cmap_feature DROP dbxref_name;
    ALTER TABLE cmap_feature DROP dbxref_url;
    ALTER TABLE cmap_feature_type DROP description;
    ALTER TABLE cmap_map_cache DROP requested_on;
    ALTER TABLE cmap_map_set DROP remarks;
    DROP TABLE cmap_dbxref;
    DROP INDEX feature_correspondence_id on cmap_correspondence_evidence;
    DROP INDEX alternate_name on cmap_feature;
    DROP TABLE cmap_feature_note;
